// <<<<<<<<------------------------>>>>>>>>------------------------>>>>>>>>>>#include <bits/stdc++.h>using namespace std; // ------------------- Type Aliases -------------------#define ll long long#define vi vector<int>#define vll vector<long long>#define vc vector<char>#define vvi vector<vi>#define vvl vector<vll> #define pb push_back#define eb emplace_back#define all(x) x.begin(), x.end() #define mapii map<int,int> #define mapll map<long long,long long>#define mapci map<char,int>#define unmap unordered_map<int,int>#define unmapll unordered_map<ll,ll> #define pii pair<int,int>#define pll pair<long long,long long> #define str string #define fi first#define se second // ------------------- Loop Macros -------------------#define ffor(i,a,b) for(int i=(a);i<(b);i++)#define forr(i,a,b) for(int i=(a);i>(b);i--)#define rep(i,n) for(int i=1;i<(n);i++)#define repn(i,n) for(int i=1;i<=(n);i++)#define repr(i,n) for(int i=(n)-1;i>=0;i--) // ------------------- Misc Macros -------------------#define fixed(n) fixed << setprecision(n)#define ceil_div(n,m) (((n) + (m) - 1) / (m)) // ------------------- Fast I/O -------------------#define fastio ios::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL); const int MOD = 1e9 + 7; // ------------------- Modular Operations -------------------ll mod_add(ll a, ll b) { return (a + b) % MOD; }ll mod_sub(ll a, ll b) { return (a - b + MOD) % MOD; }ll mod_mul(ll a, ll b) { return (a * b) % MOD; } // <<<<<<<<<-------------------- SOLVE FUNCTION -------------------->>>>>>>void solve() {    ll n;cin>>n;    vll arr(n);    ffor(i,0,n) cin>>arr[i];    ll op=0;    vll premax(n,0);    premax[0]=arr[0];    ffor(i,1,n) premax[i]=max(premax[i-1],arr[i]);    for(ll i=1;i<n-1;i+=2){        arr[i]=premax[i];        if(arr[i]<=arr[i-1]){            op+=arr[i-1]-arr[i]+1;            arr[i-1]=arr[i]-1;        }        if(arr[i]<=arr[i+1]){            op+=arr[i+1]-arr[i]+1;            arr[i+1]=arr[i]-1;        }    }    if(n%2==0){        arr[n-1]=premax[n-1];        if(arr[n-1]<=arr[n-2]){            op+=arr[n-2]-arr[n-1]+1;            arr[n-2]=arr[n-1]-1;        }    }    cout<<op<<endl;} // <<<<<<<<<<-------------------- MAIN -------------------->>>>>>>>>int main() {    fastio;    int t;    cin >> t;    while (t--) solve();    return 0;}